/* ==========================
   PCR (Proyectos Carousel)
   Archivo: pcr.css
   ========================== */

/* Variables propias para no pisar las tuyas */
:root{
  --pcr-text: rgba(255,255,255,.92);
  --pcr-muted: rgba(255,255,255,.72);
  --pcr-muted2: rgba(255,255,255,.55);
  --pcr-stroke: rgba(255,255,255,.14);
  --pcr-glass: rgba(255,255,255,.06);
  --pcr-glass2: rgba(255,255,255,.10);
  --pcr-shadow: 0 18px 60px rgba(0,0,0,.45);
  --pcr-radius: 18px;
  --pcr-radius2: 22px;
  --pcr-ease: cubic-bezier(.2,.8,.2,1);
}

/* Wrapper */
.pcr{
  padding: 64px 0;
}

/* Header del bloque */
.pcr-head{
  margin-bottom: 18px;
}
.pcr-kicker{
  margin: 0 0 10px;
  color: var(--pcr-muted2);
  font-weight: 900;
  letter-spacing: .14em;
  text-transform: uppercase;
  font-size: 12px;
}
.pcr-title{
  margin: 0 0 10px;
  font-size: clamp(28px, 3vw, 44px);
  line-height: 1.1;
  color: var(--pcr-text);
}
.pcr-subtitle{
  margin: 0;
  color: var(--pcr-muted);
}

/* Topbar */
.pcr-topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  margin-top: 16px;
  margin-bottom: 14px;
  flex-wrap: wrap;
}
.pcr-hint{
  display:flex;
  align-items:center;
  gap: 10px;
  font-size: 13px;
  color: var(--pcr-muted);
}
.pcr-dot{
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: radial-gradient(circle at 30% 30%, #fff, rgba(130, 90, 255, .9));
  box-shadow: 0 0 16px rgba(130, 90, 255, .55);
  animation: pcrPulse 1.6s ease-in-out infinite;
}
@keyframes pcrPulse{
  0%,100%{ transform:scale(1); opacity:.75 }
  50%{ transform:scale(1.35); opacity:1 }
}

.pcr-controls{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* Botones propios */
.pcr-btn{
  appearance: none;
  border: 1px solid var(--pcr-stroke);
  background: rgba(255,255,255,.06);
  color: var(--pcr-text);
  border-radius: 999px;
  padding: 10px 14px;
  font-weight: 800;
  font-size: 14px;
  cursor: pointer;
  transition: transform .2s var(--pcr-ease), background .2s var(--pcr-ease);
}
.pcr-btn:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,.10);
}
.pcr-btn:active{
  transform: translateY(0);
}
.pcr-btn-primary{
  background: rgba(255,255,255,.92);
  color: #07070b;
  border-color: transparent;
}
.pcr-btn-primary:hover{
  background: #fff;
}

/* Viewport (carrusel) */
.pcr-viewport{
  position: relative;
  border-radius: var(--pcr-radius);
  border: 1px solid var(--pcr-stroke);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  box-shadow: var(--pcr-shadow);
  overflow: hidden;
  padding: 16px 12px;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  min-height: 270px;
}

/* Fade bordes */
.pcr-fade{
  position:absolute;
  top:0; bottom:0;
  width: 90px;
  z-index: 3;
  pointer-events:none;
}
.pcr-fade-left{
  left: 0;
  background: linear-gradient(90deg, rgba(6,7,18,.95), rgba(6,7,18,0));
}
.pcr-fade-right{
  right: 0;
  background: linear-gradient(270deg, rgba(6,7,18,.95), rgba(6,7,18,0));
}

/* Track */
.pcr-track{
  display:flex;
  gap: 14px;
  align-items: stretch;
  width: max-content;
  will-change: transform;
  animation: pcrScroll var(--pcr-speed, 26s) linear infinite;
}
@keyframes pcrScroll{
  from{ transform: translate3d(0,0,0); }
  to{ transform: translate3d(-50%,0,0); }
}

/* Pausa por hover o por bot√≥n */
.pcr-viewport:hover .pcr-track{
  animation-play-state: paused;
}
.pcr-viewport[data-paused="true"] .pcr-track{
  animation-play-state: paused;
}

/* Card */
.pcr-card{
  width: 290px;
  min-height: 225px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.14);
  background:
    radial-gradient(120% 120% at 10% 0%, rgba(255,255,255,.12), transparent 45%),
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
  box-shadow: 0 12px 40px rgba(0,0,0,.42);
  overflow: hidden;
  cursor: pointer;
  transform-style: preserve-3d;
  transition: transform .18s var(--pcr-ease), border-color .18s var(--pcr-ease), filter .18s var(--pcr-ease);
}
.pcr-card:hover{
  transform: translateY(-6px) rotateX(6deg) rotateY(-8deg) scale(1.02);
  border-color: rgba(255,255,255,.22);
  filter: saturate(1.08);
}

.pcr-media{
  height: 120px;
  position: relative;
  overflow: hidden;
}
.pcr-media img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform: scale(1.06);
  filter: contrast(1.05) saturate(1.15);
}
.pcr-media::after{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,.55));
}
.pcr-shimmer{
  position:absolute;
  inset:-60px;
  background: radial-gradient(circle at 20% 10%, rgba(255,255,255,.22), transparent 40%);
  opacity:.75;
  mix-blend-mode: overlay;
  animation: pcrShimmer 3.6s ease-in-out infinite;
}
@keyframes pcrShimmer{
  0%,100%{ transform: translate3d(-12%, -12%, 0) rotate(0deg); }
  50%{ transform: translate3d(10%, 8%, 0) rotate(8deg); }
}

.pcr-content{
  padding: 12px 14px 14px;
}
.pcr-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
}
.pcr-card-title{
  margin: 0;
  font-weight: 900;
  font-size: 15px;
  line-height: 1.15;
  max-width: 210px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.pcr-tag{
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: var(--pcr-text);
}
.pcr-desc{
  margin: 8px 0 0;
  color: var(--pcr-muted);
  font-size: 13px;
  line-height: 1.35;

  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.pcr-meta-row{
  margin-top: 10px;
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
}
.pcr-pill{
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
  color: rgba(255,255,255,.82);
}

/* Modal */
.pcr-modal{
  width: min(980px, calc(100vw - 28px));
  border: none;
  padding: 0;
  background: transparent;
}
.pcr-modal::backdrop{
  background: rgba(0,0,0,.65);
  backdrop-filter: blur(6px);
}
.pcr-modal-card{
  border-radius: var(--pcr-radius2);
  border: 1px solid rgba(255,255,255,.14);
  background:
    radial-gradient(120% 120% at 10% 0%, rgba(255,255,255,.10), transparent 50%),
    linear-gradient(180deg, rgba(14,16,35,.94), rgba(8,9,20,.94));
  box-shadow: 0 30px 120px rgba(0,0,0,.7);
  overflow: hidden;
  position: relative;
}
.pcr-close{
  position:absolute;
  top: 12px;
  right: 12px;
  width: 40px;
  height: 40px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: #fff;
  cursor:pointer;
}

.pcr-modal-head{
  padding: 22px 22px 14px;
}
.pcr-badge{
  display:inline-flex;
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  background: linear-gradient(90deg, rgba(130,90,255,.20), rgba(255,255,255,.06));
  color: rgba(255,255,255,.85);
  font-size: 12px;
  font-weight: 800;
}
.pcr-modal-title{
  margin: 10px 0 6px;
  font-size: 28px;
  color: var(--pcr-text);
}
.pcr-modal-desc{
  margin: 0;
  line-height: 1.4;
  color: var(--pcr-muted);
}

.pcr-meta{
  display:flex;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 14px;
}
.pcr-meta-item{
  flex: 1 1 240px;
  padding: 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
}
.pcr-meta-label{
  display:block;
  font-size: 12px;
  color: var(--pcr-muted);
  margin-bottom: 6px;
}
.pcr-meta-value{
  font-weight: 900;
  color: var(--pcr-text);
}
.pcr-chips{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
}
.pcr-chip{
  font-size: 12px;
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.05);
  color: rgba(255,255,255,.88);
}

/* Body modal */
.pcr-modal-body{
  padding: 0 22px 22px;
  display:grid;
  grid-template-columns: 1.25fr .95fr;
  gap: 14px;
}
@media (max-width: 900px){
  .pcr-modal-body{ grid-template-columns: 1fr; }
}

/* Gallery */
.pcr-gallery{
  padding: 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.04);
}
.pcr-main{
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.22);
}
.pcr-main img{
  width: 100%;
  height: 320px;
  object-fit: cover;
  display:block;
  transition: opacity .18s ease;
}
@media (max-width: 900px){
  .pcr-main img{ height: 240px; }
}
.pcr-shine{
  position:absolute;
  inset:-80px;
  background: radial-gradient(circle at 20% 10%, rgba(255,255,255,.18), transparent 42%);
  mix-blend-mode: overlay;
  animation: pcrShimmer 4.2s ease-in-out infinite;
}

.pcr-thumbs{
  margin-top: 12px;
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
}
.pcr-thumb{
  width: 84px;
  height: 56px;
  border-radius: 12px;
  overflow:hidden;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.18);
  cursor:pointer;
  transition: transform .15s ease, border-color .15s ease;
}
.pcr-thumb img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display:block;
}
.pcr-thumb:hover{
  transform: translateY(-2px);
  border-color: rgba(255,255,255,.22);
}
.pcr-thumb[aria-current="true"]{
  border-color: rgba(130,90,255,.55);
  box-shadow: 0 0 0 3px rgba(130,90,255,.14);
}

/* Side panels */
.pcr-side{
  display:grid;
  gap: 14px;
  align-content:start;
}
.pcr-panel{
  padding: 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.04);
}
.pcr-panel h4{
  margin: 0 0 8px;
  font-size: 16px;
  color: var(--pcr-text);
}
.pcr-panel ul{
  margin: 0;
  padding-left: 18px;
  color: var(--pcr-muted);
}
.pcr-panel li{
  margin: 7px 0;
}
.pcr-panel-cta p{
  margin: 6px 0 12px;
  color: var(--pcr-muted);
}
.pcr-link{
  display:inline-block;
  margin-top: 10px;
  color: rgba(255,255,255,.86);
  text-decoration: none;
}
.pcr-link:hover{
  text-decoration: underline;
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  .pcr-track, .pcr-shimmer, .pcr-dot, .pcr-shine{ animation: none !important; }
}